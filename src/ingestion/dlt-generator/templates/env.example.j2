# Configuration générée pour le pipeline {{ c.pipeline.name }}

{# Auth API source #}
{% if c.source.auth.kind == "bearer_token" -%}
# Authentification Bearer Token pour l'API source
{{ c.source.auth.token_env }}=your_api_token_here
{% endif -%}
{% if c.source.auth.kind == "basic" -%}
# Authentification Basic pour l'API source
# USERNAME (dans le contrat): {{ c.source.auth.username or "..." }}
{{ c.source.auth.password_env }}=your_password_here
{% endif -%}

{# Destinations #}
{% if c.destination.type == "postgres" -%}
# Configuration Postgres
DLT__DESTINATION__POSTGRES__CREDENTIALS=postgresql://user:password@host:5432/dbname
{% endif -%}

{% if c.destination.type == "duckdb" -%}
# Configuration DuckDB
DLT__DESTINATION__DUCKDB__CREDENTIALS=file:./warehouse.duckdb
{% endif -%}

{% if c.destination.type == "bigquery" -%}
# Configuration BigQuery
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service_account.json
# Ou utilisez les credentials par défaut si vous êtes sur GCP
# gcloud auth application-default login
{% endif -%}

{% if c.destination.type == "snowflake" -%}
# Configuration Snowflake
DLT__DESTINATION__SNOWFLAKE__CREDENTIALS__ACCOUNT=your_account
DLT__DESTINATION__SNOWFLAKE__CREDENTIALS__USER=your_user
DLT__DESTINATION__SNOWFLAKE__CREDENTIALS__PASSWORD=your_password
DLT__DESTINATION__SNOWFLAKE__CREDENTIALS__WAREHOUSE=COMPUTE_WH
DLT__DESTINATION__SNOWFLAKE__CREDENTIALS__DATABASE=YOUR_DB
DLT__DESTINATION__SNOWFLAKE__CREDENTIALS__ROLE=YOUR_ROLE
{% endif -%}

{% if c.destination.type == "databricks" -%}
# Configuration Databricks SQL Warehouse
DLT__DESTINATION__DATABRICKS__CREDENTIALS__SERVER_HOSTNAME=adb-xxx.azuredatabricks.net
DLT__DESTINATION__DATABRICKS__CREDENTIALS__HTTP_PATH=/sql/1.0/warehouses/xxxxx
DLT__DESTINATION__DATABRICKS__CREDENTIALS__ACCESS_TOKEN=your_access_token_here
# Optionnel (Unity Catalog)
DLT__DESTINATION__DATABRICKS__CREDENTIALS__CATALOG=main
{% endif -%}

# Optionnel: chemin vers le fichier contract.yaml (par défaut: contract.yaml)
# CONTRACT_PATH=./contract.yaml
